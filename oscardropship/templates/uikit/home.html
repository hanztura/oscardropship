{% extends "uikit/layout.html" %}

{% load basket_tags %}
{% load category_tags %}
{% load i18n %}
{% load product_tags %}
{% load wagtailcore_tags %}
{% load easy_thumbnails_tags %}

{% block title %}
    {% if summary %}{{ summary }} |{% endif %} {{ block.super }}
{% endblock %}

{% block content_wrapper %}
    <!-- Banner -->
    <div class="uk-child-width-expand@s" uk-grid>
        <div>
            {% include_block page.banner  %}
        </div>
    </div>

    <!-- Collections -->
    <div class="uk-child-width-expand@s" uk-grid>
        {% for category_item in page.category_items.all %}
            {% with category_item.category as category %}
                <div>
                    <div class="uk-height-large uk-flex uk-flex-center uk-flex-middle uk-background-cover" data-src="{{ category.image.url }}" uk-img>
                        <h3><a class="uk-button uk-button-secondary" href="{{ category.get_absolute_url }}">{{ category.name }}</a></h3>
                    </div>
                </div>
            {% endwith %}
        {% endfor %}
    </div>

    <!-- Featured Items -->
    <div x-data="{ tab: 'new-arivals' }" class="uk-child-width-1-1@s" uk-grid>
        <div>
            <ul class="uk-flex-center" uk-tab>
                <li x-on:click="tab = 'new-arivals'"><a href="#">NEW ARRIVALS</a></li>
                <li x-on:click="tab = 'specials'"><a href="#">SPECIALS</a></li>
                <li x-on:click="tab = 'bestsellers'"><a href="#">BESTSELLERS</a></li>
                <li x-on:click="tab = 'most-viewed'"><a href="#">MOST VIEWED</a></li>
                <li x-on:click="tab = 'featured-products'"><a href="#">FEATURED PRODUCTS</a></li>
            </ul>
        </div>

        {# new arrivals #}
        <template x-if="tab == 'new-arivals'">
            <div>
                <div
                    class="uk-child-width-1-4@l uk-child-width-1-2@m uk-grid-match uk-grid-small uk-flex-center"
                    uk-grid
                    uk-height-match="target: > div > div > .uk-card-media-top">
                    {% for new_product in new_arrivals %}
                        <div class="uk-padding-remove-horizontal">
                            <div class="uk-card uk-card-default">
                                <div class="uk-card-media-top">
                                    <a href="{{ new_product.get_absolute_url }}">
                                        <img alt="{{ new_product.primary_image }}" data-src="{% thumbnail new_product.primary_image.original 265x328 %}" uk-img>
                                    </a>
                                </div>
                                <div class="uk-card-body uk-padding-small">
                                    <div class=" uk-flex-around" uk-grid>
                                        <div class="uk-width-1-3">
                                            <span class="uk-text-meta uk-align-left">Medical</span>
                                        </div>
                                        <div class="uk-width-expand">
                                            <span class="uk-align-right">
                                                <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                            </span>
                                        </div>
                                        <div class="uk-width-1-1 uk-margin-remove">
                                            <h3><a href="{{ new_product.get_absolute_url }}" class="uk-text-secondary"><small>{{ new_product.get_title|truncatechars:50 }}</small></a></h3>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </template>

        {# specials #}
        <template x-if="tab == 'specials'">
            <div>
                <div
                    class="uk-child-width-1-4@l uk-child-width-1-2@m uk-grid-match uk-grid-small uk-flex-center"
                    uk-grid
                    uk-height-match="target: > div > div > .uk-card-media-top">
                    {% for special_product in page.special_products.all %}
                        {% with special_product.product as product %}
                            <div class="uk-padding-remove-horizontal">
                                <div class="uk-card uk-card-default">
                                    <div class="uk-card-media-top">
                                        <a href="{{ product.get_absolute_url }}">
                                            <img alt="{{ product.primary_image }}" data-src="{% thumbnail product.primary_image.original 265x328 %}" uk-img>
                                        </a>
                                    </div>
                                    <div class="uk-card-body uk-padding-small">
                                        <div class=" uk-flex-around" uk-grid>
                                            <div class="uk-width-1-3">
                                                <span class="uk-text-meta uk-align-left">Medical</span>
                                            </div>
                                            <div class="uk-width-expand">
                                                <span class="uk-align-right">
                                                    <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                    <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                    <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                    <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                    <a href="" uk-icon="icon: star; ratio: 0.5"></a>
                                                </span>
                                            </div>
                                            <div class="uk-width-1-1 uk-margin-remove">
                                                <h3><a href="{{ product.get_absolute_url }}" class="uk-text-secondary"><small>{{ product.get_title|truncatechars:50 }}</small></a></h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endwith %}
                    {% endfor %}
                </div>
            </div>
        </template>

        <div>
            <div class="uk-width-expand uk-flex-center" uk-grid>
                <div>
                    <a class="uk-button uk-button-default" href="{% url 'catalogue:index' %}">SEE ALL</a>
                </div>
            </div>
        </div>
    </div>

    <!-- About -->
    <div class="uk-child-width-expand@s" uk-grid>
        <div>
            <section class="uk-text-center uk-article">
                <h2 class="uk-article-title">ABOUT OUR STORE!</h2>
                <p class="uk-article-meta">Lorem ipsum dolor sit amet conse ctetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse.</p>
            </section>
        </div>
    </div>

    <!-- Featured blog posts -->
    <div class="uk-child-width-expand@s" uk-grid>
        <div>
            <section class="uk-text-center uk-article">
                <h2 class="uk-article-title">LATEST FROM BLOG</h2>
                <p class="uk-article-meta">THE FRESHEST AND MOST EXCITING NEWS</p>

                <div class="uk-child-width-1-3" uk-grid>
                    <div>
                        <div class="uk-inline">

                            <img src="https://cdn.shopify.com/s/files/1/0042/3673/8649/articles/med_4_1024x.jpg?v=1549907556" alt="">
                            <div class="uk-position-bottom uk-overlay uk-overlay-default"><h3>Blog 1</h3></div>
                        </div>
                    </div>

                    <div>
                        <div class="uk-inline">

                            <img src="https://cdn.shopify.com/s/files/1/0042/3673/8649/articles/med_5_1024x.jpg?v=1549907628" alt="">
                            <div class="uk-position-bottom uk-overlay uk-overlay-default"><h3>Blog 2</h3></div>
                        </div>
                    </div>

                    <div>
                        <div class="uk-inline">

                            <img src="https://cdn.shopify.com/s/files/1/0042/3673/8649/articles/med_6_1024x.jpg?v=1549907665" alt="">
                            <div class="uk-position-bottom uk-overlay uk-overlay-default">
                                <h3>Blog 3</h3>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>    
{% endblock content_wrapper %}
